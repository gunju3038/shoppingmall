<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ezen.haha.membership.Service">
 	
 	<!-- 아이디 중복확인 -->
 	<select id="id_check" resultType="String">
 		select count(*) from member where id=#{param1}
 	</select>
 	
 	<!-- 회원가입 -->
 	<insert id="membersave">
 		insert into member values(#{param1},#{param2},#{param3},#{param4},#{param5},#{param6},#{param7},1)
 	</insert>
 	
 	<!-- 로그인 -->
 	<select id="logingo" resultType="com.ezen.haha.membership.MembershipDTO">
 		select id,pw from member where id=#{param1} and pw=#{param2}
 	</select>
 	
 	<!-- kakaoLogin -->
 	<select id="kakaologin" resultType="com.ezen.haha.membership.MembershipDTO">
 		select * from member where email=#{param1}
 	</select>
 	
 	<!-- 아이디 찾기 -->
 	<select id="memberidserch" resultType="com.ezen.haha.membership.MembershipDTO">
 		select id,name,email from member where name=#{param1} and email=#{param2}
 	</select>
 	
 	<!-- 이메일 중복확인 -->
 	<select id="email_check" resultType="String">
 		select count(*) from member where email=#{param1}
 	</select>
 	
 	<!-- 임시 비밀번호 변경 -->
 	<update id="updatepw">
 		update member set pw=#{param1} where id=#{param2}
 	</update>
 	
 	<!-- 비밀번호 찾기 -->
 	<select id="memberpwserch" resultType="com.ezen.haha.membership.MembershipDTO">
 		select pw,name,email from member where id=#{param1}
 	</select>
 	
 	<!-- naverlogin 
 	<select id="naverlogin" resultType="com.ezen.haha.membership.MembershipDTO">
 		select * from member where name=#{param1} and email=#{param2}
 	</select>
 	-->
 	
 	<!-- naverlogin -->
 	<select id="naverlogin" resultType="com.ezen.haha.membership.MembershipDTO">
 		select * from member where name=#{param1}
 	</select>
 	
</mapper>
